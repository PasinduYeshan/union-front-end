{"version":3,"file":"static/js/6038.62d8a25e.chunk.js","mappings":"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","sources":["views/members/addMember/AddMemberPage.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["import React, { useCallback, useEffect, useState, useRef } from \"react\";\nimport _ from \"lodash\";\nimport Joi from \"joi\";\nimport { toast } from \"react-toastify\";\n\n// Stepper\nconst StepperControl = React.lazy(() =>\n  import(\"../../../components/common/StepperControl\")\n);\n\n// Steps\nconst PersonalDetailsSection = React.lazy(() =>\n  import(\"./PersonalDetailSection\")\n);\nconst FamilyDetailsSection = React.lazy(() => import(\"./FamilyDetailsSection\"));\nconst DepartmentDetailsSection = React.lazy(() =>\n  import(\"./DepartmentDetailsSection\")\n);\nconst MemberDetailsSection = React.lazy(() => import(\"./MemberDetailsSection\"));\n\nconst AddMemberPage = () => {\n  /**\n   * State\n   */\n  const [currentStep, setCurrentStep] = useState(1);\n  const [member, setValue] = useState(initialValue);\n  const [formData, setFormData] = useState(initialValue);\n  const [formErrors, setFormErrors] = useState({});\n\n  // TODO : Study on this\n  // const { value, handleChange } = useInput(\"\");\n\n  /**\n   * Handle functions\n   */\n  const handleNextBtn = async (e) => {\n    const { error, value } = schema.validate(formData, { abortEarly: false });\n    if (!error) {\n      // At the end of the form, submit the form\n      if (currentStep == stepComponents.length) {\n        e.preventDefault();\n        await submit();\n        return;\n      }\n      setCurrentStep(currentStep + 1);\n    } else {\n      const errors = {};\n      for (let item of error.details) {\n        errors[item.path[0]] = item.message;\n      }\n      setFormErrors(errors);\n    }\n  };\n\n  const handlePreviousBtn = () => {\n    setCurrentStep(currentStep - 1);\n  };\n\n  const handleChange = (e) => {\n    const { name, value, files } = e.target;\n    if (name === \"images\") {\n      setFormData({ ...formData, [name]: files });\n    } else {\n      delete formErrors[name];\n      setFormData({ ...formData, [name]: value });\n    }\n  };\n\n  // Handle add button pressed\n  const handleAddBtnPressed = ({ e, tempFieldName }) => {\n    if (!formData[tempFieldName]) {\n      return;\n    }\n    const { name } = e.target;\n    console.log(\"name\", name);\n    setFormData({\n      ...formData,\n      [name]: [...formData[name], { name: formData[tempFieldName] }],\n    });\n  };\n\n  // Handle child remove button from list\n  const handleChildRemoveBtnPressed = ({ child, listName }) => {\n    const listTemp = formData[listName].filter(\n      (item) => item.name !== child.name\n    );\n    setFormData({ ...formData, [listName]: listTemp });\n  };\n\n  // Submit function\n  const submit = async () => {\n    //Add member logic\n    const { childName, unionName, ...submitData } = formData;\n    console.log(\"Submit Data\", submitData);\n    // On success\n    toast.success(\"Successfull\", {});\n    setCurrentStep(1);\n    setValue(initialValue);\n\n    // On error\n    // toast.error(\"Error\", {});\n  };\n\n  /**\n   * Stepper\n   */\n  const stepComponents = [\n    <PersonalDetailsSection\n      handleChange={handleChange}\n      formData={formData}\n      formErrors={formErrors}\n    />,\n    <FamilyDetailsSection\n      handleChange={handleChange}\n      formData={formData}\n      formErrors={formErrors}\n      handleAddBtnPressed={handleAddBtnPressed}\n      handleChildRemoveBtnPressed={handleChildRemoveBtnPressed}\n    />,\n    <DepartmentDetailsSection\n      member={member}\n      handleChange={handleChange}\n      formData={formData}\n      formErrors={formErrors}\n    />,\n    <MemberDetailsSection\n      handleChange={handleChange}\n      formData={formData}\n      formErrors={formErrors}\n      handleAddBtnPressed={handleAddBtnPressed}\n      handleChildRemoveBtnPressed={handleChildRemoveBtnPressed}\n    />,\n  ];\n\n  const returnStepComponent = (step) => {\n    return stepComponents[step - 1];\n  };\n\n  return (\n    <>\n      <div className=\"shadow sm:rounded-lg bg-white p-4 mb-5 row g-3\">\n        <div>\n          {returnStepComponent(currentStep)}\n          <StepperControl\n            handleNextBtn={handleNextBtn}\n            handlePreviousBtn={handlePreviousBtn}\n            currentStep={currentStep}\n            maxSteps={stepComponents.length}\n            submitBtnText=\"Submit\"\n          />\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AddMemberPage;\n\nconst initialValue = {\n  // personal details\n  fullName: \"\",\n  nameWithInitials: \"\",\n  otherName: \"\",\n  oldNIC: \"\",\n  newNIC: \"\",\n  dob: \"\",\n  sex: \"\",\n  permanentAddress: \"\",\n  mailingAddress: \"\",\n  emailAddress: \"\",\n  mobileCN: \"\",\n  officeCN: \"\",\n  homeCN: \"\",\n  civilStatus: \"\",\n  nominee: \"\",\n  relationshipOfNominee: \"\",\n\n  //Family details\n  spouseName: \"\",\n  children: [],\n  fatherName: \"\",\n  motherName: \"\",\n  fatherInLawName: \"\",\n  motherInLawName: \"\",\n  childName: \"\",\n\n  // Department details\n  title: \"\",\n  grade: \"\",\n  dateOfAppointment: \"\",\n  permanentWorkStation: \"\",\n  presentWorkStation: \"\",\n  dateOfPension: \"\",\n  officeOfRegionalAccountant: \"\",\n  paySheetNo: \"\",\n  employeeId: \"\",\n  officeOfDPMG: \"\",\n\n  // Member details\n  membershipNo: \"\",\n  dateOfMembership: \"\",\n  RDSNumber: \"\",\n  memberOfOtherUnion: \"\",\n  otherUnions: [],\n  unionName: \"\",\n\n  // Branch details\n  branchName: \"\",\n};\n\n// Joi validation schema\nconst schema = Joi.object({\n  fullName: Joi.string().label(\"Full Name\"),\n  nameWithInitials: Joi.string().label(\"Name With Initials\"),\n  otherName: Joi.optional().label(\"Other Name\"),\n  oldNIC: Joi.optional().label(\"Old NIC\"),\n  newNIC: Joi.optional().label(\"New NIC\"),\n  dob: Joi.date().less(\"now\").required().label(\"Date of Birth\"),\n  sex: Joi.string().label(\"Sex\"),\n  permanentAddress: Joi.string().label(\"Permanent Address\"),\n  mailingAddress: Joi.string().label(\"Mailing Address\"),\n  emailAddress: Joi.string()\n    .email({ tlds: { allow: false } })\n    .optional()\n    .label(\"Email Address\"),\n  mobileCN: Joi.string().length(10).regex(/^\\d+$/).label(\"Mobile Number\"),\n  officeCN: Joi.string()\n    .length(10)\n    .regex(/^\\d+$/)\n    .optional()\n    .label(\"Office Number\"),\n  homeCN: Joi.string()\n    .length(10)\n    .regex(/^\\d+$/)\n    .optional()\n    .label(\"Home Number\"),\n  civilStatus: Joi.string().label(\"Civil Status\"),\n  nominee: Joi.string().label(\"Nominee\"),\n  relationshipOfNominee: Joi.string().label(\"Relationship of Nominee\"),\n\n  //Family details\n  spouseName: Joi.any().optional().label(\"Spouse Name\"),\n  children: Joi.any().optional().label(\"Children\"),\n  fatherName: Joi.any().optional().label(\"Father Name\"),\n  motherName: Joi.any().optional().label(\"Mother Name\"),\n  fatherInLawName: Joi.any().optional().label(\"Father In Law Name\"),\n  motherInLawName: Joi.any().optional().label(\"Mother In Law Name\"),\n  childName: Joi.any().optional().label(\"Child Name\"),\n\n  // Department details\n  title: Joi.string().required().label(\"Title\"),\n  grade: Joi.string().required().label(\"Grade\"),\n  dateOfAppointment: Joi.date()\n    .less(\"now\")\n    .required()\n    .label(\"Date of Appointment\"),\n  permanentWorkStation: Joi.string().required().label(\"Permanent Work Station\"),\n  presentWorkStation: Joi.string().required().label(\"Present Work Station\"),\n  dateOfPension: Joi.string().required().label(\"Date of Pension\"),\n  officeOfRegionalAccountant: Joi.string()\n    .required()\n    .label(\"Office of the Regional Accountant\"),\n  paySheetNo: Joi.string().required().label(\"Pay Sheet No\"),\n  employeeId: Joi.string().required().label(\"Employee Id\"),\n  officeOfDPMG: Joi.string().required().label(\"Office of the DPMG\"),\n\n  // Member details\n  membershipNo: Joi.string().required().label(\"Membership Number\"),\n  dateOfMembership: Joi.string().required().label(\"Date of Membership\"),\n  RDSNumber: Joi.string().required().label(\"RDS Number\"),\n  memberOfOtherUnion: Joi.string()\n    .allow(\"Yes\", \"No\")\n    .label(\"Member of Other Union\"),\n  otherUnions: Joi.any().optional().label(\"Other Unions\"),\n  unionName: Joi.string().required().label(\"Union Name\"),\n\n  // Branch details\n  branchName: Joi.string(),\n});\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["StepperControl","React","PersonalDetailsSection","FamilyDetailsSection","DepartmentDetailsSection","MemberDetailsSection","step","useState","currentStep","setCurrentStep","initialValue","member","setValue","formData","setFormData","formErrors","setFormErrors","handleNextBtn","e","schema","validate","abortEarly","error","value","stepComponents","length","preventDefault","submit","errors","details","item","path","message","handleChange","target","name","files","handleAddBtnPressed","tempFieldName","console","log","handleChildRemoveBtnPressed","child","listName","listTemp","filter","childName","unionName","submitData","toast","className","handlePreviousBtn","maxSteps","submitBtnText","fullName","nameWithInitials","otherName","oldNIC","newNIC","dob","sex","permanentAddress","mailingAddress","emailAddress","mobileCN","officeCN","homeCN","civilStatus","nominee","relationshipOfNominee","spouseName","children","fatherName","motherName","fatherInLawName","motherInLawName","title","grade","dateOfAppointment","permanentWorkStation","presentWorkStation","dateOfPension","officeOfRegionalAccountant","paySheetNo","employeeId","officeOfDPMG","membershipNo","dateOfMembership","RDSNumber","memberOfOtherUnion","otherUnions","branchName","Joi","label","less","required","email","tlds","allow","optional","regex","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError"],"sourceRoot":""}